---
import { Icon } from "astro-icon/components";

const { text, icon, url, bgImage } = Astro.props;
---

<li>
  <a
    rel="noopener noreferrer"
    target="_blank"
    href={url}
    class={`relative flex items-center justify-center gap-2 overflow-hidden rounded-full bg-lightModeCustomLinkBackground px-6 py-3 text-lg text-lightModeCustomLinkText ring-2 ring-lightModeCustomLinkOutline transition-colors hover:bg-lightModeCustomLinkBackgroundHover hover:text-lightModeCustomLinkTextHover hover:ring-lightModeCustomLinkOutlineHover dark:bg-darkModeCustomLinkBackground dark:text-darkModeCustomLinkText dark:ring-darkModeCustomLinkOutline dark:hover:bg-darkModeCustomLinkBackgroundHover dark:hover:text-darkModeCustomLinkTextHover dark:hover:ring-darkModeCustomLinkOutlineHover ${bgImage ? `h-80 rounded-2xl` : ""}`}
  >
    {
      bgImage && (
        <img
          src={bgImage}
          alt={text}
          class="absolute inset-0 h-full w-full object-cover transition-transform duration-300"
        />
      )
    }
    {
      bgImage && (
        <div
          class="absolute inset-0"
          style="background: rgb(255,255,255);
background: linear-gradient(180deg, rgba(255,255,255,0) 0%, rgba(255,255,255,0) 30%, rgb(17, 17, 17) 100%);"
        >
          <div class="absolute bottom-0 start-0 flex items-center justify-center p-4 font-semibold text-white">
            <slot />
          </div>
        </div>
      )
    }

    {
      !bgImage && (
        <div class="relative z-10">
          {icon ? (
            <div class="flex items-center gap-2">
              <span>
                <Icon
                  name={icon}
                  class="size-6 text-lightModeIconLinkText transition-colors group-hover:text-lightModeIconLinkTextHover dark:text-darkModeIconLinkText group-hover:dark:text-darkModeIconLinkTextHover"
                />
              </span>
              <span>
                <slot />
              </span>
            </div>
          ) : (
            <slot />
          )}
        </div>
      )
    }
  </a>
</li>
